{% extends "base.html" %}
{% set active_page = 'depoimentos' %}

{% block title %}Depoimentos - FR Turismo Executivo{% endblock %}

{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/depoimentos.css') }}">
{% endblock %}

{% block content %}
    <main>
        <section class="title-banner">
            <h1>Nossos depoimentos de clientes da Fr Turismo Executivo</h1>
            <p>Veja como foi a experiência de quem já viajou com a gente e compartilhe a sua!</p>
        </section>

        <section class="action-buttons">
            <button class="btn-primary"><a href="{{ url_for('main.servicos_page') }}">Conheça nossos serviços</a></button>
        </section>

        <section class="testimonial-form">
            <h2>Envie seu depoimento</h2>
            <p>Preencha os campos abaixo para registrar sua avaliação no banco de dados.</p>
            <form method="post" class="depoimento-form">
                <div class="form-row">
                    <div class="form-group">
                        <label for="nome">Nome</label>
                        <input type="text" id="nome" name="nome" placeholder="Seu nome" required>
                    </div>
                    <div class="form-group">
                        <label for="avaliacao">Avaliação</label>
                        <select id="avaliacao" name="avaliacao">
                            <option value="5" selected>5 - Excelente</option>
                            <option value="4">4 - Muito bom</option>
                            <option value="3">3 - Bom</option>
                            <option value="2">2 - Precisa melhorar</option>
                            <option value="1">1 - Ruim</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="conteudo">Depoimento</label>
                    <textarea id="conteudo" name="conteudo" rows="4" placeholder="Conte como foi sua experiência" required></textarea>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary submit">Enviar depoimento</button>
                </div>
            </form>
        </section>

        <section class="testimonials-grid">
            {% if depoimentos %}
                {% for depoimento in depoimentos %}
                    <div class="card">
                        <div class="card-header">
                            <div class="avatar">{{ depoimento.author_name[:1] }}</div>
                            <div class="user-info">
                                <span class="user-name">{{ depoimento.author_name }}</span>
                                {% if depoimento.created_at %}
                                    <span class="date">{{ depoimento.created_at.strftime('%d/%m/%Y') }}</span>
                                {% endif %}
                            </div>
                        </div>
                        <div class="card-body">
                            <p>{{ depoimento.conteudo }}</p>
                        </div>
                        <div class="card-footer">
                            <span class="stars">
                                {{ '★' * depoimento.rating }}{{ '☆' * (5 - depoimento.rating) }}
                            </span>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <p class="empty-state">Ainda não há depoimentos cadastrados. Seja o primeiro a compartilhar sua experiência!</p>
            {% endif %}
        </section>
    </main>
{% endblock %}
